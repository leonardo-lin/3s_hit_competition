<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>比賽項目組別</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='wrest_styles.css') }}">
</head>
<body>
    <div class="container">
        <!-- 選單區域：僅當 data_loaded 為 False 時顯示 -->
        {% if not data_loaded %}
        <form action="/wload_data" method="POST">
            <label for="filename" class="file-select">選擇比賽項目:</label>
            <select name="filename" id="filename">
                {% for file in files %}
                <option value="{{ file }}">{{ file }}</option>
                {% endfor %}
            </select>
            <button type="submit">載入</button>
        </form>
        {% endif %}

        <!-- 比賽資訊 -->
        <div class="info">
            <div>{{ subject or "社會男子組-81KG" }}</div>
            <hr style="border: 0; border-top: 1px solid white;">
            <div>{{ number or "總場128" }}</div>
        </div>

        <!-- 計分板 -->
        <div class="scoreboard">
            <div class="team blue">
                <div class="team-name">TPE</div>
                <div class="team-member">{{ player1 or "選手一" }}</div>
                <div class="score" onclick="incrementScore(this)">0</div>
                <div class="leader" onclick="toggleLeader(this)"></div>
            </div>
            <div class="team red">
                <div class="team-name">UZB</div>
                <div class="team-member">{{ player2 or "選手二" }}</div>
                <div class="score" onclick="incrementScore(this)">0</div>
                <div class="leader" onclick="toggleLeader(this)"></div>
            </div>
        </div>

        <div class="timer-container">
            <div class="timer" onclick="toggleTimer()">04:00</div>
            <button class="settings-button" onclick="openSettings()" style="background: none; border: none; cursor: pointer;">
                <img src="https://img.icons8.com/material-outlined/48/ffffff/settings.png" alt="Settings Icon">
            </button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='base_scripts.js') }}"></script>
    <script src="{{ url_for('static', filename='leader_scripts.js') }}"></script>
</body>
</html>
